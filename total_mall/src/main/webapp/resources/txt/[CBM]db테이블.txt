//공지사항 데이터베이스
create table tb_notice(
n_idx int unsigned auto_increment,
m_idx int unsigned not null, -- 회원 번호
writer varchar(30) not null, -- 작성자
title varchar(50) not null, -- 제목
content varchar(1000) not null, -- 내용
originfile_name varchar(50), -- 원본 파일명
savefile_name varchar(50), -- 저장 파일명
read_cnt int unsigned default 0, -- 조회수
post_date datetime default now(), -- 등록일
update_date datetime default now(), -- 수정일
del_or_not decimal(1) default 1, -- 게시글 유지 여부
service varchar(30) not null, -- 서비스
constraint tb_notice_pk primary key (n_idx), -- 기본키
constraint tb_notice_fk foreign key (m_idx)
    references tb_member (m_idx) -- 외래키
);

//문의하기 데이터베이스
create table tb_voc(
v_idx int unsigned auto_increment,
m_idx int unsigned not null, -- 회원 번호
writer varchar(30) not null, -- 작성자
voc_type varchar(50) not null, -- 유형
title varchar(50) not null, -- 제목
content varchar(1000) not null, -- 내용
originfile_name varchar(50), -- 원본 파일명
savefile_name varchar(50), -- 저장 파일명
post_date datetime default now(), -- 등록일
update_date datetime default now(), -- 수정일
del_or_not decimal(1) default 1, -- 게시글 유지 여부
constraint tb_voc_pk primary key (v_idx), -- 기본키
constraint tb_voc_fk foreign key (m_idx)
references tb_member (m_idx) -- 외래키
);

//리뷰 데이터베이스
CREATE TABLE tb_review(
    r_idx INT UNSIGNED AUTO_INCREMENT,
    m_idx INT UNSIGNED NOT NULL,
    p_idx INT UNSIGNED NOT NULL,
    member_id varchar(30) not null,
    member_name varchar(20) not null,
    content VARCHAR(1000) NOT NULL,
    star INT,
    originfile_name VARCHAR(50),
    savefile_name VARCHAR(50),
    post_date DATETIME DEFAULT CURRENT_TIMESTAMP,
    update_date DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    del_or_not DECIMAL(1) DEFAULT 1,
    PRIMARY KEY (r_idx),
    FOREIGN KEY (m_idx) REFERENCES tb_member(m_idx),
    FOREIGN KEY (p_idx) REFERENCES tb_product(p_idx)
);
